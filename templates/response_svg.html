<!DOCTYPE html>
<html>
<head>
    <title>Response</title>
</head>
<body>
    <h1>Response from GPT</h1>
    
    <!-- SVG Ventriloquist Dummy -->
    <svg width="200px" height="400px" xmlns="http://www.w3.org/2000/svg">
      <!-- Body -->
      <rect x="50" y="150" width="100" height="200" fill="#ffcc00"/>
      <!-- Head -->
      <circle cx="100" cy="100" r="50" fill="#ff9966"/>
      <!-- Eyes, Nose -->
      <circle cx="85" cy="90" r="5" fill="#000"/>
      <circle cx="115" cy="90" r="5" fill="#000"/>
      <circle cx="100" cy="110" r="3" fill="#000"/>
      <!-- Mouth (separate element for animation) -->
      <path id="mouth" d="M 85,120 Q 100,130 115,120" stroke="#000" fill="#000"/>
    </svg>

    <!-- Audio Player -->
    <audio controls autoplay onplay="animateMouth()" onended="stopMouthAnimation()">
        <source src="/response_audio" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <a href="/">Ask another question</a>

    <!-- JavaScript for Animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <script>
    // Function to animate the mouth
    function animateMouth() {
    gsap.to("#mouth", { duration: 0.1, scaleY: 0.5, yoyo: true, repeat: -1 });
  }

  // Function to stop the animation
  function stopMouthAnimation() {
    gsap.to("#mouth", { duration: 0.1, scaleY: 1 });
    gsap.killTweensOf("#mouth");
  }

    </script>
</body>

</html>
